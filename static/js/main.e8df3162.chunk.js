(this["webpackJsonpsocial-media-app"]=this["webpackJsonpsocial-media-app"]||[]).push([[0],{102:function(e,t,c){},103:function(e,t,c){"use strict";c.r(t);var n=c(2),r=c(35),a=c.n(r),s=(c(74),c(17)),i=c.n(s),o=c(27),l=(c(76),c(8)),j=(c(29),c(28),c(24)),u=c(9),d=(c(33),c(3));var b=function(){var e=l.a.auth().currentUser,t=Object(n.useState)(!1),c=Object(u.a)(t,2),r=c[0],a=c[1],s=Object(n.useState)(""),i=Object(u.a)(s,2),o=i[0],j=i[1];return Object(d.jsx)("div",{className:"profile",children:Object(d.jsxs)("fieldset",{children:[Object(d.jsx)("legend",{children:"Profile information"}),Object(d.jsxs)("div",{className:"nickname",children:["Nickname : ",e&&e.displayName]}),Object(d.jsxs)("div",{className:"nickname",children:["User ID : ",e&&e.uid]}),Object(d.jsxs)("div",{className:"nickname",children:["Status : ",r?Object(d.jsx)("input",{className:"statusInput",onChange:function(t){var c=t.target.value.toString();j(c.concat(" ")),localStorage.setItem("status",o),console.log(e)}}):localStorage.getItem("status")," ",Object(d.jsx)("button",{style:{marginLeft:"10px"},onClick:function(){a((function(e){return!e}))},children:"Change"})]})]})})};var h={marginTop:"10px",backgroundColor:"red"},O=function(e){var t=l.a.auth(),c=function(){var e=Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.signOut();case 3:localStorage.setItem("logged",!1),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return Object(d.jsxs)("div",{children:[Object(d.jsx)("br",{}),Object(d.jsx)(b,{}),Object(d.jsx)("button",{style:h,onClick:c,children:"Log out"})]})};c(79);var m=function(e){var t,c=Object(n.useState)(""),r=Object(u.a)(c,2),a=r[0],s=r[1],i=Object(n.useState)(""),o=Object(u.a)(i,2),l=o[0],j=o[1],b=Object(n.useState)(""),h=Object(u.a)(b,2),O=h[0],m=h[1],x=Object(n.useState)(),p=Object(u.a)(x,2),f=(p[0],p[1],"/users/"+a.username);return Object(n.useEffect)((function(){fetch("http://localhost:8080/user").then((function(e){return e.json()})).then((function(e){s(e)})),fetch("http://localhost:8080/user").then((function(e){return e.json()})).then((function(e){j(e)})),fetch("http://localhost:8080/user").then((function(e){return e.json()})).then((function(e){m(e)}))}),[]),t=a.avatar,(new DOMParser).parseFromString(t,"text/html").body,Object(d.jsxs)("p",{children:[Object(d.jsxs)("div",{className:"card",children:[Object(d.jsx)("div",{className:"banner",children:Object(d.jsx)("img",{alt:"pfp",style:{borderRadius:"100%"},src:a.avatar})}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("div",{className:"title",children:Object(d.jsx)("h2",{children:a.username})}),Object(d.jsx)("br",{}),Object(d.jsx)("a",{style:{color:"dodgerBlue",padding:"0"},href:f,children:Object(d.jsx)("h3",{children:"About user"})})]}),Object(d.jsxs)("div",{className:"card",children:[Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("div",{className:"title",children:Object(d.jsx)("h2",{children:l.username})}),Object(d.jsx)("br",{}),Object(d.jsx)("a",{style:{color:"dodgerBlue",padding:"0"},href:f,children:Object(d.jsx)("h3",{children:"About user"})})]}),Object(d.jsxs)("div",{className:"card",children:[Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("div",{className:"title",children:Object(d.jsx)("h2",{children:O.username})}),Object(d.jsx)("br",{}),Object(d.jsx)("a",{style:{color:"dodgerBlue",padding:"0"},href:f,children:Object(d.jsx)("h3",{children:"About user"})})]})]})},x=c(31),p=c.n(x);var f=function(e){return e.onCommunitySearch,Object(d.jsxs)("div",{className:"community",children:[Object(d.jsx)("h3",{children:"Chitly communities are providing to search about your hobbies, interests and interacting with people!"}),Object(d.jsx)("a",{style:{color:"dodgerBlue",padding:"0"},href:"/communities",children:Object(d.jsx)("h4",{children:"Learn more about communities"})})]})},g=Object(n.createContext)();function v(){return Object(n.useContext)(g)}var y=function(e){var t=e.children,c=l.a.auth(),r=Object(n.useState)({}),a=Object(u.a)(r,2),s=a[0],j=a[1],b=Object(n.useState)(),h=Object(u.a)(b,2),O=h[0],m=h[1];function x(){return(x=Object(o.a)(i.a.mark((function e(t,n,r){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.createUserWithEmailAndPassword(t,n).then(Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={displayName:r,photoURL:"https://my-cdn.com/assets/user/123.png"},e.next=3,l.a.auth().currentUser.updateProfile(t);case 3:case"end":return e.stop()}}),e)}))));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(n.useEffect)((function(){return c.onAuthStateChanged((function(e){j(e)}))}));var p={user:s,login:function(e,t){c.signInWithEmailAndPassword(e,t).catch((function(e){m(e.message)}))},register:function(e,t,c){return x.apply(this,arguments)},error:O};return Object(d.jsx)(g.Provider,{value:p,children:t})};c(97);var N=function(){return v().user,Object(d.jsxs)("div",{align:"center",children:[Object(d.jsxs)("div",{align:"center",children:[Object(d.jsx)("br",{}),Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{className:"typewriter",children:"Welcome to the Chitly"}),Object(d.jsx)("br",{})]}),Object(d.jsx)("h3",{children:"Chitly is a platform that you can create communities, posts and more!"}),Object(d.jsx)("h1",{children:"Avaliable users"}),Object(d.jsx)(m,{}),Object(d.jsx)("a",{style:{color:"dodgerBlue",padding:"0"},href:"/users",children:Object(d.jsx)("h3",{children:"See more users"})})]}),Object(d.jsxs)("div",{align:"center",children:[Object(d.jsx)("h1",{children:"Avaliable communities"}),Object(d.jsx)(f,{})]})]})};var w=function(e){return Object(d.jsx)("div",{className:"container",children:"Hello world"})};var C=function(e){var t=e.location,c=e.text;return Object(d.jsx)("ul",{children:Object(d.jsx)("li",{children:Object(d.jsx)("a",{href:t,children:c})})})},S=c(34),I=c(36);var k=function(e){var t=l.a.auth();return l.a.firestore(),Object(d.jsx)("div",{children:Object(d.jsx)(I.a,{size:35,style:{cursor:"pointer"},onClick:function(){t.signInWithPopup(new l.a.auth.GoogleAuthProvider),localStorage.setItem("logged",!0)}})})},P=c(63);var A={borderRadius:"100%",cursor:"pointer"},D=function(e){var t=l.a.auth(),c=Object(j.a)(t),n=Object(u.a)(c,1)[0];return Object(d.jsx)(S.a,{children:Object(d.jsxs)("nav",{className:"menu",children:[Object(d.jsx)("img",{src:"https://media.discordapp.net/attachments/853272906162896927/865604570369359882/c_logo.png?width=406&height=406",width:"80px",height:"80px"}),Object(d.jsx)(C,{location:"/",text:"Home"}),Object(d.jsx)(C,{location:"/about",text:"About"}),Object(d.jsx)(C,{location:"/posts",text:"Posts"}),Object(d.jsx)(C,{location:"/communities",text:"Communities"}),n?Object(d.jsx)("a",{href:"/profile",children:Object(d.jsx)("img",{referrerPolicy:"no-referrer",alt:"pfp",style:A,width:"60px",height:"60px",src:n&&n.photoURL})}):Object(d.jsx)("a",{href:"/register",children:Object(d.jsx)(P.a,{style:{cursor:"pointer"},size:35})})]})})};var L=function(e){var t=Object(n.useState)([]),c=Object(u.a)(t,2),r=c[0],a=c[1],s=Object(n.useState)(),i=Object(u.a)(s,2),o=(i[0],i[1]),j=l.a.auth().currentUser;return Object(n.useEffect)((function(){fetch("http://localhost:8080/getCommunity",{method:"POST",header:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){e.forEach((function(e){return e.members.includes(j&&j.displayName)}))&&o(!0),a(e)}))}),[]),Object(d.jsx)("div",{className:"community-container",children:r.map((function(e){return Object(d.jsxs)("div",{className:"community-card",children:[Object(d.jsx)("div",{className:"banner",children:Object(d.jsx)("img",{alt:"banner",src:e.banner})}),Object(d.jsxs)("div",{className:"info",children:[Object(d.jsx)("span",{className:"name",children:Object(d.jsxs)("strong",{children:["Community name : ",e.name]})}),Object(d.jsx)("span",{className:"id",children:Object(d.jsxs)("strong",{children:["Community ID : ",e._id]})}),Object(d.jsx)("span",{className:"members",children:Object(d.jsxs)("strong",{children:["Member count : ",e.members.length]})})]}),e.members.includes(j&&j.displayName)?Object(d.jsx)("button",{style:{backgroundColor:"red"},onClick:function(){return function(e,t,c){localStorage.setItem(e,!0),console.log(!0);var n={communityID:e,user:t&&t.displayName};c.post("http://localhost:8080/quitMember",n,{header:{"Content-Type":"application/x-www-form-urlencoded"}}),window.location.reload()}(e._id,j,p.a)},children:"Quit"}):Object(d.jsx)("button",{onClick:function(){return function(e,t,c){localStorage.setItem(e,!0),console.log(!0);var n={communityID:e,user:t&&t.displayName};c.post("http://localhost:8080/addMember",n,{header:{"Content-Type":"application/x-www-form-urlencoded"}}),window.location.reload()}(e._id,j,p.a)},children:"Join"}),Object(d.jsx)("a",{style:{color:"dodgerBlue",padding:"0"},href:"/community/{community.name}",children:Object(d.jsx)("h4",{children:"Go to community page"})})]},e._id)}))})};var U=function(){return Object(d.jsxs)("div",{className:"container",children:[Object(d.jsx)("h1",{children:"Communities"}),Object(d.jsx)("h2",{children:"Communities are designed for different topics on Chitly. Search communities by name or filter it by topics."}),Object(d.jsx)(L,{})]})};var E=function(e){return window.location.pathname.split("/").pop(),Object(d.jsx)("div",{className:!0})};c(51);var T=c(123);var B=Object(T.a)((function(e){return{root:{"& > *":{margin:e.spacing(1),width:"25ch"}}}}));var R={position:"relative",right:"30px"},W=function(){var e=B(),t=v().register,c=Object(n.useState)(),r=Object(u.a)(c,2),a=(r[0],r[1]),s=Object(n.useState)(),i=Object(u.a)(s,2),o=i[0],l=i[1],j=Object(n.useState)(),b=Object(u.a)(j,2),h=b[0],O=b[1],m=Object(n.useState)(),x=Object(u.a)(m,2),p=x[0],f=x[1],g=Object(n.useState)(!1),y=Object(u.a)(g,2),N=y[0],w=y[1];return Object(d.jsx)("div",{className:"register",children:Object(d.jsxs)("form",{className:e.root,onSubmit:function(e){e.preventDefault();try{t(h,p,o),w(!0)}catch(c){a(c.message)}},noValidate:!0,autoComplete:"off",children:[Object(d.jsx)("div",{align:"center",children:Object(d.jsx)("h2",{children:"Register"})}),Object(d.jsxs)("div",{className:"username",children:[Object(d.jsx)("label",{children:"Username"}),Object(d.jsx)("input",{style:R,type:"text",onChange:function(e){return l(e.target.value)}})]}),Object(d.jsxs)("div",{className:"username",children:[Object(d.jsx)("label",{children:"E-mail"}),Object(d.jsx)("br",{}),Object(d.jsx)("input",{style:R,id:"outlined-basic",label:"Outlined",variant:"outlined",type:"email",onChange:function(e){return O(e.target.value)}})]}),Object(d.jsxs)("div",{className:"username",children:[Object(d.jsx)("label",{children:"Password"}),Object(d.jsx)("input",{style:R,id:"outlined-basic",label:"Outlined",variant:"outlined",type:"password",onChange:function(e){return f(e.target.value)}})]}),Object(d.jsx)("button",{disabled:N,type:"submit",children:"Register"}),Object(d.jsxs)("div",{className:"social-media",children:["Or use social media apps to create profile : ",Object(d.jsx)("br",{}),Object(d.jsx)(k,{})]}),Object(d.jsxs)("div",{className:"direct",children:["Already have an account? ",Object(d.jsx)("a",{style:{color:"dodgerblue"},href:"/login",children:"Login"})]})]})})};c(102);var F=c(125),_=c(126),z=Object(T.a)((function(e){return{root:{"& > *":{margin:e.spacing(1),width:"25ch"}}}})),H=Object(T.a)((function(e){return{root:{width:"70%","& > * + *":{marginTop:e.spacing(2),justifyContent:"center",alignItems:"center"}}}}));var M={position:"relative",right:"30px"},V=function(){var e=v(),t=e.login,c=e.error,r=Object(n.useState)(),a=Object(u.a)(r,2),s=a[0],l=a[1],j=Object(n.useState)(),b=Object(u.a)(j,2),h=b[0],O=b[1],m=Object(n.useState)(!1),x=Object(u.a)(m,2),p=x[0],f=(x[1],z()),g=H();function y(){return(y=Object(o.a)(i.a.mark((function e(c){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.preventDefault(),e.prev=1,e.next=4,t(s,h);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})))).apply(this,arguments)}return Object(d.jsx)("div",{className:"register",children:Object(d.jsxs)("form",{className:f.root,onSubmit:function(e){return y.apply(this,arguments)},noValidate:!0,autoComplete:"off",children:[Object(d.jsx)("div",{className:g.root,children:c&&Object(d.jsxs)(F.a,{severity:"error",children:[Object(d.jsx)(_.a,{children:"Error"}),Object(d.jsx)("strong",{children:c})]})}),Object(d.jsx)("div",{align:"center",children:Object(d.jsx)("h2",{children:"Login"})}),Object(d.jsxs)("div",{className:"username",children:[Object(d.jsx)("label",{children:"E-mail"}),Object(d.jsx)("br",{}),Object(d.jsx)("input",{style:M,id:"outlined-basic",label:"Outlined",variant:"outlined",type:"email",onChange:function(e){return l(e.target.value)}})]}),Object(d.jsxs)("div",{className:"username",children:[Object(d.jsx)("label",{children:"Password"}),Object(d.jsx)("br",{}),Object(d.jsx)("input",{style:M,id:"outlined-basic",label:"Outlined",variant:"outlined",type:"password",onChange:function(e){return O(e.target.value)}})]}),Object(d.jsx)("button",{disabled:p,type:"submit",children:"Login"}),Object(d.jsxs)("div",{className:"social-media",children:["Or use social media apps to create profile : ",Object(d.jsx)("br",{}),Object(d.jsx)(k,{})]}),Object(d.jsxs)("div",{className:"direct",children:["Don\u2018t have an account? ",Object(d.jsx)("a",{style:{color:"dodgerblue"},href:"/register",children:"Create account"})]})]})})},G=c(10);l.a.apps.length?l.a.app():l.a.initializeApp({apiKey:"AIzaSyD1mZB-uctTs3dRtsDdANRVnVN2PPLhWWs",authDomain:"chitly-9711f.firebaseapp.com",databaseURL:"https://chitly-9711f-default-rtdb.firebaseio.com",projectId:"chitly-9711f",storageBucket:"chitly-9711f.appspot.com",messagingSenderId:"11200431287",appId:"1:11200431287:web:7a4135d88267f6f21e3932",measurementId:"G-WH0N3HZ4TT"});var J=l.a.auth(),Z=(l.a.firestore(),J);var q=function(){var e=Z.currentUser,t=(localStorage.getItem("logged"),function(){var t=Object(o.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:"http://localhost:8080/sendUser",p.a.post("http://localhost:8080/sendUser",e&&e);case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}());return Object(n.useEffect)((function(){t()}),[]),Object(d.jsx)(S.a,{children:Object(d.jsxs)("div",{className:"container",children:[Object(d.jsx)(D,{}),Object(d.jsx)(G.c,{children:Object(d.jsxs)(y,{children:[Object(d.jsx)(G.a,{exact:!0,path:"/",component:N}),Object(d.jsx)(G.a,{exact:!0,path:"/about",component:w}),Object(d.jsx)(G.a,{exact:!0,path:"/communities",component:U}),e?Object(d.jsx)(G.a,{exact:!0,path:"/profile",component:O}):"",Object(d.jsx)(G.a,{path:"/community/:communityId",component:E}),Object(d.jsx)(G.a,{exact:!0,path:"/register",component:W}),Object(d.jsx)(G.a,{exact:!0,path:"/login",component:V})]})})]})})},K=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,128)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;c(e),n(e),r(e),a(e),s(e)}))};a.a.render(Object(d.jsx)(q,{}),document.getElementById("root")),K()},74:function(e,t,c){},76:function(e,t,c){},79:function(e,t){},97:function(e,t,c){}},[[103,1,2]]]);
//# sourceMappingURL=main.e8df3162.chunk.js.map